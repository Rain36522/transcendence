<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/generalchat.css">
</head>
<body>
    <header>
        <h1><a href="{% url 'home_page' %}" class="logo" style="color: #FFFF99; text-decoration: none; font-family: 'Roboto', sans-serif; font-size: 60px;">TRANSCENDANCE</a></h1>
        <div>
            <a href="{% url 'general_chat' %}" class="header-btn">Chat</a>
            <a href="{% url 'user_login' %}" class="logout-link">LOGOUT</a>
            <a href="{% url 'user_dashboard' %}" class="profile-link">Profile</a>            
        </div>
    </header>
    <div class="video-container">
        <img src="https://e1.pxfuel.com/desktop-wallpaper/281/253/desktop-wallpaper-best-6-80s-backgrounds-on-hip-retro-80s.jpg" alt="Background Image">
    </div>    
    <div class="chat-container">
        <div class="user-list">
            <div class="user" onclick="selectChat('User 1')">User 1</div>
            <div class="user" onclick="selectChat('User 2')">User 2</div>
            <div class="user" onclick="selectChat('User 3')">User 3</div>
            <hr>
            <div class="group" onclick="selectChat('Group 1')">Group 1</div>
            <div class="group" onclick="selectChat('Group 2')">Group 2</div>
        </div>
        <div class="chat-window">
            <div class="selected-user">Select a user or group to start chatting</div>
            <div id="messages">
                <!-- Messages will appear here -->
            </div>
            <div class="message-input">
                <input type="text" id="messageText" placeholder="Type your message here..." />
                <button id="sendMessage">Send</button>
            </div>
        </div>
    </div>
    <script>
        function selectChat(chatName) {
            document.querySelector('.selected-user').textContent = "Chatting with: " + chatName;
            document.getElementById('messages').innerHTML = ''; // Clears previous messages
        }

        document.getElementById('sendMessage').addEventListener('click', function() {
            var messageText = document.getElementById('messageText').value;
            if (messageText.trim() !== '') {
                var messageElement = document.createElement('div');
                messageElement.textContent = messageText;
                messageElement.style.padding = "10px";
                messageElement.style.margin = "5px 0";
                messageElement.style.backgroundColor = "#BDE0FE";
                messageElement.style.borderRadius = "10px";
                document.getElementById('messages').appendChild(messageElement);
                document.getElementById('messageText').value = ''; // Clear the input after sending
                document.getElementById('messages').scrollTop = document.getElementById('messages').scrollHeight; // Scroll to the bottom
            }
        });
    </script>
</body>
</html>
